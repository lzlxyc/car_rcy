# 任务：预测下一次用户的出行方式
- 业务背景与挑战：通过用户之前的出现记录，预测用户下一次的出行记录
- 哈啰已从单一共享单车平台发展为覆盖单车、助力车、顺风车、打车、租车等多业务的综合出行平台，同时衍生出本地生活服务（如租电动车、换电、数科等）。
- 用户需求呈现以下特征：
  - 1. 多业务交叉性：同一用户可能在不同场景下选择不同业务（如通勤用单车、周末租车自驾）。
  - 2. 时空动态性：需求受时间、地点、天气、实时交通状况等影响显著。
  - 3. 个性化偏好：用户历史行为隐含长期偏好（如价格敏感型用户倾向单车）。
- 核心挑战：利用大模型和序列预测技术，实现用户粒度的跨业务需求预测，并联动时空的供需，提升全平台资源匹配效率
- 将整个任务划分为两个子任务：基于用户出行意图识别可以优先展示高概率业务，重点关注低频高价值业务，区域预测未来一周的时空需求，平台将用户粒度和区域预测结果结合，优化流量和车辆/运力分配；


## 1、数据
- 样例：
```python
'''
user_id,1
city_code,871.0
city_name,昆明市
create_time,2024-12-01 10:10:03.493
complete_time,1970-01-01 08:00:00.0
clk_biz_list,"顺风车,打车,顺风车,顺风车,顺风车,顺风车,顺风车,顺风车,顺风车,顺风车,顺风车,打车,顺风车,顺风车"
clk_date_time_list,"2024-09-16 17:46:18,2024-09-25 15:08:07,2024-09-26 07:50:10,2024-10-10 07:29:33,2024-10-10 07:31:18,2024-10-12 19:03:21,2024-10-13 06:26:24,2024-10-14 10:12:50,2024-10-17 13:51:15,2024-10-18 09:20:46,2024-10-18 10:18:37,2024-10-22 17:21:38,2024-10-22 17:22:02,2024-10-27 07:23:52"
clk_cnt,14
ord_biz_list,"助力车,助力车,助力车,助力车,助力车,助力车,助力车,单车,单车,单车,单车,单车,单车,助力车,助力车,助力车,单车,助力车,助力车,单车,单车,顺风车,打车,单车,单车,助力车,助力车,助力车,助力车,助力车,顺风车,助力车,助力车,助力车,助力车,助力车,助力车,助力车,助力车,顺风车,助力车,顺风车,顺风车,顺风车,助力车,助力车,助力车,助力车,助力车,助力车,助力车,助力车,助力车,助力车,顺风车,助力车,助力车,助力车,租车,租车"
ord_date_time_list,"2024-09-03 08:12:55,2024-09-03 12:43:55,2024-09-03 14:20:40,2024-09-03 19:09:14,2024-09-04 07:52:21,2024-09-04 12:16:44,2024-09-04 18:53:40,2024-09-06 07:07:19,2024-09-07 00:05:06,2024-09-09 07:51:26,2024-09-09 22:12:14,2024-09-10 07:51:28,2024-09-13 09:26:26,2024-09-13 12:15:59,2024-09-13 12:16:01,2024-09-13 19:34:36,2024-09-14 10:54:40,2024-09-14 13:11:54,2024-09-14 13:40:31,2024-09-14 14:06:25,2024-09-15 20:55:43,2024-09-16 17:47:45,2024-09-16 17:47:45,2024-09-17 00:17:51,2024-09-17 00:59:18,2024-09-23 10:00:09,2024-09-24 12:54:45,2024-09-24 13:55:34,2024-09-25 07:21:39,2024-09-25 14:51:25,2024-09-26 07:52:41,2024-09-27 18:21:29,2024-10-08 09:13:46,2024-10-11 12:09:07,2024-10-11 12:35:48,2024-10-11 14:09:31,2024-10-11 16:36:48,2024-10-12 12:36:35,2024-10-12 13:12:07,2024-10-12 19:05:23,2024-10-13 11:11:00,2024-10-18 10:19:20,2024-10-22 17:23:02,2024-10-27 07:25:03,2024-10-31 10:54:45,2024-11-01 18:30:47,2024-11-03 12:39:09,2024-11-04 15:07:43,2024-11-04 16:01:33,2024-11-04 16:49:47,2024-11-05 15:36:48,2024-11-10 12:41:23,2024-11-10 13:30:28,2024-11-10 19:34:59,2024-11-13 08:10:13,2024-11-14 14:36:39,2024-11-24 15:25:53,2024-11-24 17:35:27,2024-12-01 08:49:37,2024-12-01 10:10:03"
ord_cnt,60
label,租车
'''
```
- 评估指标：weighted-f1

## 2、建模思路：
- 1）画像构建：通过用户的出行记录的统计分析，进行用户画像、出行画像的构建；
- 2）训练集理由构建：基于画像的结果，拼接到prompt，联合lable输入到大模，让大模型给出理由；
- 3）对训练集进行微调
- 4）预测新数据


